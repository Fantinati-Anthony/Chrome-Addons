<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AT Toolkit - Options</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-size: 14px;
      background: #f5f5f5;
      color: #333;
      padding: 20px;
      max-width: 700px;
      margin: 0 auto;
    }

    h1 {
      font-size: 24px;
      color: #2c3e50;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #3498db;
    }

    .section {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .section h2 {
      font-size: 18px;
      color: #2c3e50;
      margin-bottom: 15px;
    }

    .section p {
      color: #666;
      font-size: 13px;
      margin-bottom: 15px;
    }

    label {
      display: block;
      font-weight: 500;
      margin-bottom: 5px;
    }

    input[type="text"],
    input[type="password"],
    input[type="url"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
      margin-bottom: 15px;
    }

    input[type="text"]:focus,
    input[type="password"]:focus,
    input[type="url"]:focus {
      outline: none;
      border-color: #3498db;
    }

    input[type="color"] {
      width: 50px;
      height: 36px;
      padding: 2px;
      border: 1px solid #ddd;
      border-radius: 4px;
      cursor: pointer;
    }

    button {
      padding: 10px 20px;
      border: none;
      background: #3498db;
      color: white;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
    }

    button:hover {
      background: #2980b9;
    }

    .status {
      margin-top: 10px;
      padding: 10px;
      border-radius: 4px;
      font-size: 13px;
    }

    .status.success {
      background: #d4edda;
      color: #155724;
    }

    .status.error {
      background: #f8d7da;
      color: #721c24;
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }

    .checkbox-group input[type="checkbox"] {
      width: 18px;
      height: 18px;
    }

    .info {
      background: #e7f3ff;
      border-left: 4px solid #3498db;
      padding: 10px 15px;
      margin-bottom: 15px;
      font-size: 13px;
      color: #2c3e50;
    }

    .info.warning {
      background: #fff3cd;
      border-left-color: #ffc107;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }

    .form-row .form-group {
      margin-bottom: 0;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      margin-bottom: 5px;
    }

    .form-group input {
      margin-bottom: 0;
    }

    .test-btn {
      background: #6c757d;
      margin-left: 10px;
    }

    .test-btn:hover {
      background: #5a6268;
    }

    .btn-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    /* Color customization */
    .color-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 15px;
    }

    .color-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .color-item label {
      flex: 1;
      margin-bottom: 0;
      font-size: 13px;
    }

    .color-item input[type="color"] {
      margin-bottom: 0;
    }

    .color-preview {
      display: flex;
      gap: 5px;
      margin-top: 10px;
      padding: 10px;
      background: #f8f9fa;
      border-radius: 6px;
    }

    .preview-box {
      padding: 8px 12px;
      border-radius: 4px;
      font-size: 12px;
    }

    /* Dynamic buttons */
    .buttons-list {
      margin-bottom: 15px;
    }

    .button-item {
      display: grid;
      grid-template-columns: auto 1fr 2fr auto auto;
      gap: 10px;
      align-items: center;
      padding: 12px;
      background: #f8f9fa;
      border-radius: 6px;
      margin-bottom: 10px;
    }

    .btn-order-controls {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .btn-move-up, .btn-move-down {
      background: #95a5a6;
      color: white;
      border: none;
      padding: 4px 8px;
      font-size: 10px;
      cursor: pointer;
      border-radius: 3px;
    }

    .btn-move-up:hover, .btn-move-down:hover {
      background: #7f8c8d;
    }

    .btn-move-up:disabled, .btn-move-down:disabled {
      background: #bdc3c7;
      cursor: not-allowed;
    }

    .button-item input {
      margin-bottom: 0;
      padding: 8px;
    }

    .button-item .btn-icon-preview {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 18px;
    }

    .button-item .btn-icon-preview img {
      width: 20px;
      height: 20px;
    }

    .btn-delete {
      background: #e74c3c;
      padding: 8px 12px;
    }

    .btn-delete:hover {
      background: #c0392b;
    }

    .btn-add {
      background: #27ae60;
    }

    .btn-add:hover {
      background: #219a52;
    }

    .add-button-form {
      display: grid;
      grid-template-columns: 1fr 2fr 80px auto;
      gap: 10px;
      align-items: end;
      padding: 15px;
      background: #e8f4e8;
      border-radius: 6px;
      margin-bottom: 15px;
    }

    .add-button-form .form-group {
      margin-bottom: 0;
    }

    .add-button-form label {
      font-size: 12px;
      color: #666;
    }

    /* Export/Import */
    .export-import {
      display: flex;
      gap: 10px;
    }

    .btn-export {
      background: #9b59b6;
    }

    .btn-export:hover {
      background: #8e44ad;
    }

    .btn-import {
      background: #e67e22;
    }

    .btn-import:hover {
      background: #d35400;
    }

    #import-file {
      display: none;
    }

    /* Icon selector */
    .icon-selector {
      position: relative;
    }

    .icon-input {
      display: flex;
      gap: 5px;
    }

    .icon-input input {
      flex: 1;
    }

    .icon-input button {
      padding: 8px;
      font-size: 12px;
    }

    .emoji-picker {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 100;
      display: none;
      max-width: 280px;
    }

    .emoji-picker.show {
      display: block;
    }

    .emoji-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 5px;
    }

    .emoji-btn {
      padding: 5px;
      background: transparent;
      border: 1px solid transparent;
      border-radius: 4px;
      cursor: pointer;
      font-size: 18px;
    }

    .emoji-btn:hover {
      background: #f0f0f0;
      border-color: #ddd;
    }

    /* Reset button */
    .btn-reset {
      background: #95a5a6;
    }

    .btn-reset:hover {
      background: #7f8c8d;
    }

    /* Radius sliders */
    .radius-grid {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 15px;
    }

    .radius-item {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .radius-item label {
      font-size: 13px;
      margin-bottom: 0;
    }

    .radius-input {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .radius-input input[type="range"] {
      flex: 1;
      height: 6px;
      -webkit-appearance: none;
      background: #ddd;
      border-radius: 3px;
      outline: none;
    }

    .radius-input input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      background: #3498db;
      border-radius: 50%;
      cursor: pointer;
    }

    .radius-input span {
      min-width: 40px;
      font-size: 12px;
      color: #666;
      text-align: right;
    }

    /* Modules management */
    .modules-container {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .module-category {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 12px;
    }

    .module-category h3 {
      font-size: 14px;
      color: #2c3e50;
      margin-bottom: 10px;
      padding-bottom: 8px;
      border-bottom: 1px solid #e0e0e0;
    }

    .module-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .module-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      cursor: pointer;
      padding: 4px 0;
    }

    .module-item input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }

    .module-item:hover {
      color: #3498db;
    }

    @media (max-width: 600px) {
      .modules-container {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <h1>AT Toolkit - Options</h1>

  <!-- Parametres generaux -->
  <div class="section">
    <h2>Parametres generaux</h2>
    <p>Personnalisez le nom et la langue de l'extension.</p>

    <div class="form-row" style="margin-bottom: 15px;">
      <div class="form-group">
        <label for="popup-title-input">Nom du popup:</label>
        <input type="text" id="popup-title-input" placeholder="Toolkit">
      </div>
      <div class="form-group">
        <label for="language-select">Langue / Language:</label>
        <select id="language-select">
          <option value="fr">Francais</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
    <button id="btn-save-general">Sauvegarder</button>
    <div id="general-status" class="status" style="display: none;"></div>
  </div>

  <!-- Personnalisation des couleurs -->
  <div class="section">
    <h2>Personnalisation des couleurs</h2>
    <p>Personnalisez l'apparence de votre extension en modifiant les couleurs.</p>

    <div class="color-grid">
      <div class="color-item">
        <label>Fond:</label>
        <input type="color" id="color-bg" value="#f5f5f5">
      </div>
      <div class="color-item">
        <label>Texte:</label>
        <input type="color" id="color-text" value="#333333">
      </div>
      <div class="color-item">
        <label>Couleur principale:</label>
        <input type="color" id="color-primary" value="#3498db">
      </div>
      <div class="color-item">
        <label>Principale (hover):</label>
        <input type="color" id="color-primary-hover" value="#2980b9">
      </div>
      <div class="color-item">
        <label>Couleur secondaire:</label>
        <input type="color" id="color-secondary" value="#2c3e50">
      </div>
      <div class="color-item">
        <label>Fond boutons:</label>
        <input type="color" id="color-button-bg" value="#ffffff">
      </div>
      <div class="color-item">
        <label>Texte boutons:</label>
        <input type="color" id="color-button-text" value="#666666">
      </div>
      <div class="color-item">
        <label>Fond panneaux:</label>
        <input type="color" id="color-panel-bg" value="#ffffff">
      </div>
      <div class="color-item">
        <label>Bordures:</label>
        <input type="color" id="color-border" value="#eeeeee">
      </div>
      <div class="color-item">
        <label>Succes:</label>
        <input type="color" id="color-success" value="#27ae60">
      </div>
      <div class="color-item">
        <label>Erreur:</label>
        <input type="color" id="color-error" value="#e74c3c">
      </div>
    </div>

    <div class="btn-group">
      <button id="btn-save-colors">Sauvegarder les couleurs</button>
      <button id="btn-reset-colors" class="btn-reset">Reinitialiser</button>
    </div>
    <div id="colors-status" class="status" style="display: none;"></div>
  </div>

  <!-- Border Radius -->
  <div class="section">
    <h2>Arrondis (Border Radius)</h2>
    <p>Personnalisez les arrondis des boutons, panneaux et autres elements.</p>

    <div class="radius-grid">
      <div class="radius-item">
        <label>Petit (boutons):</label>
        <div class="radius-input">
          <input type="range" id="radius-small" min="0" max="20" value="4">
          <span id="radius-small-value">4px</span>
        </div>
      </div>
      <div class="radius-item">
        <label>Moyen (panneaux):</label>
        <div class="radius-input">
          <input type="range" id="radius-medium" min="0" max="30" value="8">
          <span id="radius-medium-value">8px</span>
        </div>
      </div>
      <div class="radius-item">
        <label>Grand (icones, popup):</label>
        <div class="radius-input">
          <input type="range" id="radius-large" min="0" max="40" value="12">
          <span id="radius-large-value">12px</span>
        </div>
      </div>
    </div>

    <div class="btn-group">
      <button id="btn-save-radius">Sauvegarder les arrondis</button>
      <button id="btn-reset-radius" class="btn-reset">Reinitialiser</button>
    </div>
    <div id="radius-status" class="status" style="display: none;"></div>
  </div>

  <!-- Gestion des modules -->
  <div class="section">
    <h2>Gestion des modules</h2>
    <p>Activez ou desactivez les outils selon vos besoins. Les outils desactives n'apparaitront pas dans le popup.</p>

    <div class="modules-container">
      <!-- Domain & DNS -->
      <div class="module-category">
        <h3>üåê Domaine & DNS</h3>
        <div class="module-list">
          <label class="module-item"><input type="checkbox" data-module="whois" checked> üîç Whois</label>
          <label class="module-item"><input type="checkbox" data-module="dnschecker" checked> üåê DNS Checker</label>
          <label class="module-item"><input type="checkbox" data-module="mailtester" checked> ‚úâÔ∏è Mail Tester</label>
          <label class="module-item"><input type="checkbox" data-module="ssl" checked> üîí SSL/TLS</label>
        </div>
      </div>

      <!-- SEO & Analysis -->
      <div class="module-category">
        <h3>üìä SEO & Analyse</h3>
        <div class="module-list">
          <label class="module-item"><input type="checkbox" data-module="metatags" checked> üè∑Ô∏è Meta Tags</label>
          <label class="module-item"><input type="checkbox" data-module="links" checked> üîó Liens</label>
          <label class="module-item"><input type="checkbox" data-module="images" checked> üñºÔ∏è Images</label>
          <label class="module-item"><input type="checkbox" data-module="sitemap" checked> üó∫Ô∏è Sitemap</label>
          <label class="module-item"><input type="checkbox" data-module="pagespeed" checked> ‚ö° PageSpeed</label>
          <label class="module-item"><input type="checkbox" data-module="lighthouse" checked> üî¶ Lighthouse</label>
        </div>
      </div>

      <!-- Development -->
      <div class="module-category">
        <h3>üíª Developpement</h3>
        <div class="module-list">
          <label class="module-item"><input type="checkbox" data-module="resize" checked> üìê Resize</label>
          <label class="module-item"><input type="checkbox" data-module="css" checked> üé≠ CSS Injection</label>
          <label class="module-item"><input type="checkbox" data-module="js" checked> ‚ö° JS Injection</label>
          <label class="module-item"><input type="checkbox" data-module="headers" checked> üìã Headers</label>
          <label class="module-item"><input type="checkbox" data-module="lorem" checked> üìù Lorem Ipsum</label>
          <label class="module-item"><input type="checkbox" data-module="fonts" checked> üî§ Fonts</label>
        </div>
      </div>

      <!-- Browser -->
      <div class="module-category">
        <h3>üåç Navigateur</h3>
        <div class="module-list">
          <label class="module-item"><input type="checkbox" data-module="bookmarks" checked> ‚≠ê Favoris</label>
          <label class="module-item"><input type="checkbox" data-module="folders" checked> üìÅ Dossiers</label>
          <label class="module-item"><input type="checkbox" data-module="history" checked> üïê Historique</label>
          <label class="module-item"><input type="checkbox" data-module="cookies" checked> üç™ Cookies</label>
          <label class="module-item"><input type="checkbox" data-module="cleardata" checked> üßπ Clear Data</label>
        </div>
      </div>

      <!-- Utilities -->
      <div class="module-category">
        <h3>üõ†Ô∏è Utilitaires</h3>
        <div class="module-list">
          <label class="module-item"><input type="checkbox" data-module="desktop" checked> üñ•Ô∏è Raccourci Bureau</label>
          <label class="module-item"><input type="checkbox" data-module="colorpicker" checked> üé® Color Picker</label>
          <label class="module-item"><input type="checkbox" data-module="qrcode" checked> üì± QR Code</label>
          <label class="module-item"><input type="checkbox" data-module="downloads" checked> üì• Downloads</label>
          <label class="module-item"><input type="checkbox" data-module="emails" checked> üìß Emails</label>
          <label class="module-item"><input type="checkbox" data-module="speech" checked> üîä Synthese Vocale</label>
          <label class="module-item"><input type="checkbox" data-module="translate" checked> üåç Traducteur</label>
        </div>
      </div>
    </div>

    <div class="btn-group" style="margin-top: 15px;">
      <button id="btn-enable-all-modules">Tout activer</button>
      <button id="btn-disable-all-modules" class="btn-reset">Tout desactiver</button>
      <button id="btn-save-modules">Sauvegarder les modules</button>
    </div>
    <div id="modules-status" class="status" style="display: none;"></div>
  </div>

  <!-- Boutons dynamiques -->
  <div class="section">
    <h2>Boutons personnalises</h2>
    <p>Ajoutez autant de boutons que vous le souhaitez. Definissez un nom, une URL et une icone (emoji ou favicon automatique).</p>

    <div id="buttons-list" class="buttons-list">
      <!-- Les boutons seront charges ici dynamiquement -->
    </div>

    <div class="add-button-form">
      <div class="form-group">
        <label>Nom:</label>
        <input type="text" id="new-btn-name" placeholder="Mon site">
      </div>
      <div class="form-group">
        <label>URL:</label>
        <input type="url" id="new-btn-url" placeholder="https://example.com">
      </div>
      <div class="form-group icon-selector">
        <label>Icone:</label>
        <div class="icon-input">
          <input type="text" id="new-btn-icon" placeholder="Emoji" maxlength="4">
          <button type="button" id="btn-emoji-picker" title="Choisir un emoji">...</button>
        </div>
        <div id="emoji-picker" class="emoji-picker">
          <div class="emoji-grid">
            <!-- Emojis populaires -->
          </div>
        </div>
      </div>
      <div class="form-group">
        <label>&nbsp;</label>
        <button id="btn-add-button" class="btn-add">+ Ajouter</button>
      </div>
    </div>

    <div class="info">
      <strong>Astuce:</strong> Laissez le champ icone vide pour utiliser automatiquement le favicon du site.
    </div>

    <div id="buttons-status" class="status" style="display: none;"></div>
  </div>

  <!-- Export/Import -->
  <div class="section">
    <h2>Sauvegarde des reglages</h2>
    <p>Exportez vos reglages pour les sauvegarder ou les importer sur un autre navigateur.</p>

    <div class="export-import">
      <button id="btn-export" class="btn-export">Exporter les reglages</button>
      <button id="btn-import-trigger" class="btn-import">Importer les reglages</button>
      <input type="file" id="import-file" accept=".json">
    </div>
    <div id="export-status" class="status" style="display: none;"></div>
  </div>

  <!-- Mises a jour -->
  <div class="section">
    <h2>Mises a jour</h2>
    <p>L'extension se met a jour depuis le repository GitHub public:</p>

    <div class="info">
      <strong>Repository:</strong> Fantinati-Anthony/Chrome-Addons<br>
      <strong>Branche:</strong> main<br>
      <strong>Dossier:</strong> AT-Unified-Addon
    </div>

    <div class="btn-group">
      <button id="btn-force-update" style="background: #e67e22;">Reinitialiser le cache MAJ</button>
    </div>
    <div id="github-status" class="status" style="display: none;"></div>
  </div>

  <!-- API OpenAI -->
  <div class="section">
    <h2>API OpenAI (GPT)</h2>
    <p>Configurez votre cle API OpenAI pour utiliser la fonctionnalite de correction de texte avec GPT.</p>

    <div class="info">
      Obtenez votre cle API sur <a href="https://platform.openai.com/api-keys" target="_blank">platform.openai.com/api-keys</a>
    </div>

    <label for="api-key">Cle API OpenAI:</label>
    <input type="password" id="api-key" placeholder="sk-...">

    <div class="checkbox-group">
      <input type="checkbox" id="show-api-key">
      <label for="show-api-key" style="margin-bottom: 0;">Afficher la cle</label>
    </div>

    <button id="btn-save-api-key">Sauvegarder</button>
    <div id="api-key-status" class="status" style="display: none;"></div>
  </div>

  <!-- Notifications ChatGPT -->
  <div class="section">
    <h2>Notifications ChatGPT</h2>
    <p>Configurez les notifications sonores pour ChatGPT et OpenAI Playground.</p>

    <div class="checkbox-group">
      <input type="checkbox" id="enable-ding" checked>
      <label for="enable-ding" style="margin-bottom: 0;">Activer le son de notification</label>
    </div>

    <label for="ding-volume">Volume:</label>
    <input type="range" id="ding-volume" min="0" max="100" value="50" style="width: 100%; margin-bottom: 15px;">

    <button id="btn-save-ding">Sauvegarder</button>
    <div id="ding-status" class="status" style="display: none;"></div>
  </div>

  <!-- Donnees -->
  <div class="section">
    <h2>Donnees</h2>
    <p>Gerez les donnees stockees par l'extension.</p>

    <button id="btn-clear-all" style="background: #e74c3c;">Effacer toutes les donnees</button>
    <div id="clear-status" class="status" style="display: none;"></div>
  </div>

  <script src="options.js"></script>
</body>
</html>
